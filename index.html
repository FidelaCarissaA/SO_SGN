<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Struktur Organisasi</title>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {packages:["orgchart"]});
    google.charts.setOnLoadCallback(initCharts);

    let charts = {};

    function initCharts() {
      // ===== Chart SDM =====
      var dataSDM = new google.visualization.DataTable();
      dataSDM.addColumn('string', 'Name');
      dataSDM.addColumn('string', 'Manager');
      dataSDM.addColumn('string', 'Tooltip');
      dataSDM.addRows([
        [{v:'DirUt', f:'<div><b>Budi Santoso</b><br>Direktur Utama</div>'}, '', ''],
        [{v:'SDM', f:'<div><b>Rina Pratiwi</b><br>Direktur SDM</div>'}, 'DirUt', ''],
        [{v:'HR', f:'<div><b>Dedi Saputra</b><br>Kepala HR</div>'}, 'SDM', ''],
        [{v:'GA', f:'<div><b>Siti Rahma</b><br>Kepala Umum</div>'}, 'SDM', '']
      ]);
      charts.sdm = {data: dataSDM};

      // ===== Chart SBK =====
      var dataSBK = new google.visualization.DataTable();
      dataSBK.addColumn('string', 'Name');
      dataSBK.addColumn('string', 'Manager');
      dataSBK.addColumn('string', 'Tooltip');
      dataSBK.addRows([
        [{v:'DirUt', f:'<div><b>Budi Santoso</b><br>Direktur Utama</div>'}, '', ''],
        [{v:'SBK', f:'<div><b>Fajar Hidayat</b><br>Direktur SBK</div>'}, 'DirUt', ''],
        [{v:'Prod', f:'<div><b>Ali Wijaya</b><br>Kepala Produksi</div>'}, 'SBK', '']
      ]);
      charts.sbk = {data: dataSBK};

      // ===== Chart SPI =====
      var dataSPI = new google.visualization.DataTable();
      dataSPI.addColumn('string', 'Name');
      dataSPI.addColumn('string', 'Manager');
      dataSPI.addColumn('string', 'Tooltip');
      dataSPI.addRows([
        [{v:'DirUt', f:'<div><b>Budi Santoso</b><br>Direktur Utama</div>'}, '', ''],
        [{v:'SPI', f:'<div><b>Nia Lestari</b><br>Direktur SPI</div>'}, 'DirUt', ''],
        [{v:'Audit', f:'<div><b>Reza Firmansyah</b><br>Manager Audit</div>'}, 'SPI', '']
      ]);
      charts.spi = {data: dataSPI};

      // ===== Chart Sekretariat Perusahaan (SEKPER) =====
      var dataSekper = new google.visualization.DataTable();
      dataSekper.addColumn('string', 'Name');
      dataSekper.addColumn('string', 'Manager');
      dataSekper.addColumn('string', 'Tooltip');

      dataSekper.addRows([
        // Level 1
        [{v:'dirut', f:'<div style="background:#007bff;color:#fff;padding:8px;border-radius:6px"><b>Direktur Utama</b></div>'}, '', 'Direktur Utama'],

        // Level 2
        [{v:'sekper', f:'<div style="background:#80cc66;color:#000;padding:8px;border-radius:6px"><b>Kepala Divisi Sekretariat Perusahaan</b></div>'}, 'dirut', 'Kepala Divisi Sekretariat Perusahaan'],

        // Level 3
        [{v:'sub1', f:'<div style="background:#d9d9d9;padding:8px;border-radius:6px"><b>Kepala Sub Divisi Kesekretariatan, Pengelolaan Data dan Informasi</b></div>'}, 'sekper', ''],
        [{v:'sub2', f:'<div style="background:#d9d9d9;padding:8px;border-radius:6px"><b>Kepala Sub Divisi Humas dan Protokoler</b></div>'}, 'sekper', ''],

        // Level 4 - Subdivisi 1
        [{v:'asisten_data', f:'<div style="background:#fde9d9;padding:8px;border-radius:6px; height:50px;"><b>Asisten Pengelolaan Data dan Informasi</b></div>'}, 'sub1', ''],
        [{v:'asisten_sekret', f:'<div style="background:#fde9d9;padding:8px;border-radius:6px; height:50px;"><b>Asisten Kesekretariatan</b></div>'}, 'sub1', ''],

        // Level 5 - Subdivisi 1 Detail
        ['staf_data', 'asisten_data', 'Staf Pengelolaan Data dan Informasi'],
        ['staf_sekret', 'asisten_sekret', 'Staf Kesekretariatan'],
        ['staf_dir', 'asisten_sekret', 'Staf Sekretaris Direksi'],
        ['staf_sevp', 'asisten_sekret', 'Staf Sekretaris SEVP'],

        // Level 4 - Subdivisi 2
        [{v:'asisten_humas', f:'<div style="background:#fde9d9;padding:8px;border-radius:6px; height:50px;"><b>Asisten Humas</b></div>'}, 'sub2', ''],
        [{v:'asisten_protokol', f:'<div style="background:#fde9d9;padding:8px;border-radius:6px; height:50px;"><b>Asisten Protokoler</b></div>'}, 'sub2', ''],

        // Level 5 - Subdivisi 2 Detail
        ['staf_humas', 'asisten_humas', 'Staf Humas'],
        ['staf_protokol', 'asisten_protokol', 'Staf Protokoler']
      ]);

      charts.sekper = {data: dataSekper};
    }

    function showChart(type) {
      var chartDiv = document.getElementById('chart_div');
      chartDiv.innerHTML = ''; // Bersihkan isi sebelumnya
      var chart = new google.visualization.OrgChart(chartDiv);
      chart.draw(charts[type].data, {allowHtml:true, size:'medium'});
    }
  </script>

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f8fafc;
      margin: 0;
      padding: 20px;
    }
    h2 {
      text-align: center;
      color: #2b3e50;
      margin-bottom: 20px;
    }
    .menu {
      text-align: center;
      margin-bottom: 25px;
    }
    .menu button {
      background: #2b3e50;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 6px;
      margin: 5px;
      cursor: pointer;
      font-size: 15px;
      transition: background 0.3s;
    }
    .menu button:hover {
      background: #3c5a77;
    }
    #chart_div {
      width: 100%;
      text-align: center;
      overflow-x: auto;
      min-height: 200px;
    }
  </style>
</head>
<body>
  <h2>Struktur Organisasi</h2>

  <div class="menu">
    <button onclick="showChart('sdm')">SDM</button>
    <button onclick="showChart('sbk')">SBK</button>
    <button onclick="showChart('spi')">SPI</button>
    <button onclick="showChart('sekper')">Sekretariat Perusahaan</button>
  </div>

  <div id="chart_div">
    <p style="text-align:center; color:#888;">Silakan pilih kategori di atas untuk melihat bagan organisasi</p>
  </div>
</body>
</html>
